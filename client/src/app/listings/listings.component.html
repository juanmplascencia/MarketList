<div class="form-style-5">
  <a [routerLink]="['/dashboard']">Browse</a>
  <a [routerLink]="['/my_listings']">My Listings</a>
  <a [routerLink]="['/']" (click)="logout()" class="inline">Log Off</a>
</div>
<div class="form-style-5">
  <h1>Create New Item</h1>
  <form (submit)="createItem(newItem)" #itemForm="ngForm">
    <div>
      <p>Title
        <input type="text" name="title" [(ngModel)]="newItem.title" required #title="ngModel">
        <span *ngIf="title.invalid && (title.dirty || title.touched)">
          <span *ngIf="title.errors.required">Title is required.</span>
        </span>
      </p>
    </div>
    <div>
      <p>Description
      <input type="text" name="description" [(ngModel)]="newItem.description" required #desc="ngModel">
      <span *ngIf="desc.invalid && (desc.dirty || desc.touched)">
        <span *ngIf="desc.errors.required">Description is required.</span>
      </span>
      </p>
    </div>
    <div>
      <p>Location
      <input type="text" name="location" [(ngModel)]="newItem.location" required #loc="ngModel">
      <span *ngIf="loc.invalid && (loc.dirty || loc.touched)">
        <span *ngIf="loc.errors.required">Location is required.</span>
      </span>
      </p>
    </div>
    <div>
      <p>Price $
        <input type="number" min="1" name="price" [(ngModel)]="newItem.price" required #price="ngModel">
        <span *ngIf="price.invalid && (price.dirty || price.touched)">
          <span *ngIf="price.errors.required">Price is required.</span>
        </span>
      </p>
    </div>
    <div>
      <p>Image Url 
        <input type="text" name="url" [(ngModel)]="newItem.url">
      </p>
    </div>
    <input type="submit" value="Submit" [disabled] = "itemForm.invalid"> 
  </form>
</div>
<div class="form-style-5">
  <h1>My Listings</h1>
</div>
<div *ngFor="let item of currentUser.items; let idx = index" class="form-style-5">
  <form (submit)="updateItem(item)">
    <div>
      <p>Title
      <input type="text" name="title" [(ngModel)]="item.title">
      </p>
    </div>
    <div>
      <p>Description
      <input type="text" name="description" [(ngModel)]="item.description">
      </p>
    </div>
    <div>
      <p>Location
      <input type="text" name="location" [(ngModel)]="item.location">
      </p>
    </div>
    <div>
      <p>Price
      <input type="number" min="1" name="price" [(ngModel)]="item.price">
      </p>
    </div>
    <div>
      <p>Image url
      <input type="text" name="url" [(ngModel)]="item.url">
      </p>
    </div>
    <input type="submit" value="Update">
    <input type="submit" value="Delete" (click)="destroyItem(item._id, idx)">
  </form>
</div>